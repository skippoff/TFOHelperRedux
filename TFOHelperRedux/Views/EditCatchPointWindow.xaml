<Window x:Class="TFOHelperRedux.Views.EditCatchPointWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:services="clr-namespace:TFOHelperRedux.Services"
        Title="Добавление / Редактирование точки лова"
        Height="790" Width="1000"
        WindowStartupLocation="CenterOwner"
        Background="#F4F5F7"
        FontFamily="Segoe UI" FontSize="14">

    <Border BorderBrush="#D0D0D0" BorderThickness="1" CornerRadius="6" Padding="10" Background="White">
        <Grid Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="7*"/>
            </Grid.ColumnDefinitions>
            <!-- Левая панель -->
            <ScrollViewer Grid.Column="0" VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="0,0,10,0">
                    <Separator Margin="0,10,0,10" Background="#DDD"/>
                    <!-- Водоём -->
                    <TextBlock Text="Водоём:" FontWeight="Bold" Margin="0,0,0,4"/>
                    <ComboBox x:Name="cmbMap"
                              Height="30"
                              Background="#FAFAFA"
                              BorderBrush="#CCC"
                              DisplayMemberPath="Name"/>
                    <!-- Координаты -->
                    <TextBlock Text="Координаты:" FontWeight="Bold" Margin="0,10,0,4"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                        <TextBox x:Name="tbX" Width="70" HorizontalContentAlignment="Center" Margin="0,0,8,0"/>
                        <TextBox x:Name="tbY" Width="70" HorizontalContentAlignment="Center"/>
                    </StackPanel>
                    <!-- Глубина + клипса -->
                    <TextBlock Text="Глубина:" FontWeight="Bold" Margin="0,10,0,4"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,8,0">
                        <!-- глубина -->
                        <TextBox x:Name="tbDepth"
                                 Width="80"
                                 HorizontalContentAlignment="Center"/>

                        <!-- клипса -->
                        <TextBlock Text="Клипса:" FontWeight="Bold"
                                   Margin="10,0,4,0"
                                   VerticalAlignment="Center"/>
                        <TextBox x:Name="tbClip"
                                 Width="80"
                                 HorizontalContentAlignment="Center"/>
                    </StackPanel>

                    <!-- Особенности -->
                    <TextBlock Text="Особенности:" FontWeight="Bold" Margin="0,10,0,4"/>
                    <StackPanel Orientation="Vertical">
                        <CheckBox x:Name="cbTrophy" Content="Трофейная"/>
                        <CheckBox x:Name="cbTournament" Content="Турнирная"/>
                        <CheckBox x:Name="cbCautious" Content="Осторожная"/>
                    </StackPanel>
                    <!-- Время лова -->
                    <TextBlock Text="Время лова:" FontWeight="Bold" Margin="0,10,0,4"/>
                    <Border BorderThickness="1" HorizontalAlignment="Left">
                        <StackPanel Width="100" Orientation="Vertical">
                            <CheckBox x:Name="cbMorning" Content="Утро 🌅"/>
                            <CheckBox x:Name="cbDay" Content="День ☀️"/>
                            <CheckBox x:Name="cbEvening" Content="Вечер 🌇"/>
                            <CheckBox x:Name="cbNight" Content="Ночь 🌙"/>
                        </StackPanel>
                    </Border>
                    <!-- Тип удилища -->
                    <TextBlock Text="Тип удилища:" FontWeight="Bold" Margin="0,10,0,4"/>
                    <StackPanel>
                        <CheckBox x:Name="cbRodSpinning" Content="Спиннинг"/>
                        <CheckBox x:Name="cbRodFeeder" Content="Фидер"/>
                        <CheckBox x:Name="cbRodFloat" Content="Поплавок"/>
                        <CheckBox x:Name="cbRodFly" Content="Нахлыст"/>
                        <CheckBox x:Name="cbRodSea" Content="Морское"/>
                    </StackPanel>
                    <!-- Комментарий -->
                    <TextBlock Text="Комментарий:" FontWeight="Bold" Margin="0,10,0,4"/>
                    <Border Background="#FAFAFA" BorderBrush="#DDD" BorderThickness="1" CornerRadius="4">
                        <TextBox x:Name="tbComment"
                                 AcceptsReturn="True"
                                 TextWrapping="Wrap"
                                 Padding="6"
                                 Background="Transparent"
                                 VerticalScrollBarVisibility="Auto"
                                 Height="140"/>
                    </Border>
                </StackPanel>
            </ScrollViewer>
            <!-- Правая панель -->
            <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="6">
                    <!-- Рыбы -->
                    <TextBlock Text="Рыбы:" FontWeight="Bold" Margin="0,0,0,4"/>
                    <TextBox x:Name="tbFishSearch"
                             Height="26"
                             Margin="0,0,0,4"
                             Padding="4"
                             TextChanged="tbFishSearch_TextChanged"
                             ToolTip="Поиск по названию рыбы"/>
                    <Border BorderThickness="1" CornerRadius="3">
                        <ScrollViewer Height="250" VerticalScrollBarVisibility="Auto">
                            <ItemsControl ItemsSource="{Binding FishView}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel Orientation="Horizontal"/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <CheckBox Content="{Binding Name}"
                                                  IsChecked="{Binding IsSelected, Mode=TwoWay}"
                                                  Margin="2"/>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                    </Border>

                    <TextBlock Text="Наживки:" FontWeight="Bold" Margin="0,10,0,4"/>
                    <TextBox x:Name="tbLureSearch"
                             Height="26"
                             Margin="0,0,0,4"
                             Padding="4"
                             TextChanged="tbLureSearch_TextChanged"
                             ToolTip="Поиск по названию наживки"/>
                    <Border BorderThickness="1" CornerRadius="3">
                        <ScrollViewer Height="220" VerticalScrollBarVisibility="Auto">
                            <ItemsControl ItemsSource="{Binding LuresView}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel Orientation="Horizontal"/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <CheckBox Content="{Binding Name}"
                                                  IsChecked="{Binding IsSelected, Mode=TwoWay}"
                                                  Margin="2"/>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                    </Border>
                </StackPanel>
            </ScrollViewer>
            <!-- Нижние кнопки -->
            <DockPanel Grid.ColumnSpan="2" VerticalAlignment="Bottom" Margin="0,10,0,0">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="❌ Отмена"
                            Width="120" Height="34"
                            Margin="0,0,10,0"
                            Background="RosyBrown"
                            Foreground="White"
                            BorderBrush="DarkRed"
                            Cursor="Hand"
                            Click="Cancel_Click"/>
                    <Button Content="✅ Сохранить"
                            Width="130" Height="34"
                            Background="#4CAF50"
                            Foreground="White"
                            FontWeight="Bold"
                            BorderBrush="#388E3C"
                            Cursor="Hand"
                            Click="Ok_Click"/>
                </StackPanel>
            </DockPanel>
        </Grid>
    </Border>
</Window>
