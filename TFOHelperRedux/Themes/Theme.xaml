<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:conv="clr-namespace:TFOHelperRedux.Converters"
                    mc:Ignorable="d"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006">

    <!-- 🎨 Цвета для кнопок (адаптивные через DynamicResource) -->
    <!-- Основные акцентные цвета -->
    <SolidColorBrush x:Key="PrimaryColor" Color="{DynamicResource PrimaryColorValue}"/>
    <SolidColorBrush x:Key="AccentLocation" Color="{DynamicResource AccentLocationColor}"/>
    <SolidColorBrush x:Key="AccentFeed" Color="{DynamicResource AccentFeedColor}"/>
    <SolidColorBrush x:Key="AccentExperimental" Color="{DynamicResource AccentExperimentalColor}"/>
    <SolidColorBrush x:Key="SuccessColor" Color="{DynamicResource SuccessColorValue}"/>
    <SolidColorBrush x:Key="DangerColor" Color="{DynamicResource DangerColorValue}"/>
    
    <!-- Кнопки действий -->
    <SolidColorBrush x:Key="ButtonImportBrush" Color="{DynamicResource ButtonImportColor}"/>
    <SolidColorBrush x:Key="ButtonExportBrush" Color="{DynamicResource ButtonExportColor}"/>
    <SolidColorBrush x:Key="ButtonDeleteBrush" Color="{DynamicResource ButtonDeleteColor}"/>
    <SolidColorBrush x:Key="ButtonEditBrush" Color="{DynamicResource ButtonEditColor}"/>
    <SolidColorBrush x:Key="ButtonPrimaryBrush" Color="{DynamicResource ButtonPrimaryColor}"/>

    <!-- Кнопки навигации (яркие для контраста) -->
    <SolidColorBrush x:Key="ButtonNavLocationBrush" Color="{DynamicResource ButtonNavLocationColor}"/>
    <SolidColorBrush x:Key="ButtonNavBaitBrush" Color="{DynamicResource ButtonNavBaitColor}"/>

    <DropShadowEffect x:Key="DropShadow" BlurRadius="10" ShadowDepth="2" Opacity="0.25" />

    <!-- 📝 Шрифты -->
    <FontFamily x:Key="PrimaryFont">Comic Sans MS</FontFamily>
    <FontFamily x:Key="CodeFont">Cascadia Code</FontFamily>

    <!-- Цветовое выделение карточек рецептов -->
    <Style x:Key="RecipeBorderNormal" TargetType="Border">
        <Setter Property="BorderBrush" Value="{DynamicResource PrimaryColor}"/>
        <Setter Property="BorderThickness" Value="1"/>
    </Style>

    <Style x:Key="RecipeBorderTop" TargetType="Border">
        <Setter Property="BorderBrush" Value="{DynamicResource SuccessColor}"/>
        <Setter Property="BorderThickness" Value="2"/>
    </Style>

    <Style x:Key="RecipeBorderExperimental" TargetType="Border">
        <Setter Property="BorderBrush" Value="{DynamicResource AccentExperimental}"/>
        <Setter Property="BorderThickness" Value="2"/>
    </Style>

    <Style x:Key="RecipeBorderDeprecated" TargetType="Border">
        <Setter Property="BorderBrush" Value="{DynamicResource DangerColor}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Opacity" Value="0.5"/>
    </Style>

    <!-- 🌍 Глобальные стили (используют DynamicResource для поддержки смены темы) -->
    <Style TargetType="Window">
        <Setter Property="Background" Value="{DynamicResource AppBackground}"/>
        <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
    </Style>

    <Style TargetType="UserControl">
        <Setter Property="Background" Value="{DynamicResource AppBackground}"/>
        <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
    </Style>

    <Style TargetType="Border">
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrushLight}"/>
    </Style>

    <!-- 🖋️ Тексты и общий шрифт -->
    <Style TargetType="TextBlock">
        <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="FontWeight" Value="Medium"/>
        <Setter Property="FontSize" Value="14"/>
    </Style>

    <!-- Панели, где раньше ставили Background="White" -->
    <Style TargetType="Border" x:Key="PanelAutoStyle">
        <Setter Property="Background" Value="{DynamicResource PanelBackground}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrushLight}"/>
    </Style>

    <!-- 🧭 Заголовки -->
    <Style x:Key="HeaderTextStyle" TargetType="TextBlock">
        <Setter Property="FontWeight" Value="Medium"/>
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="FontSize" Value="18"/>
        <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
    </Style>

    <!-- 🔹 Подзаголовки -->
    <Style x:Key="SubHeaderTextStyle" TargetType="TextBlock">
        <Setter Property="FontWeight" Value="Medium"/>
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="FontSize" Value="15"/>
        <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
    </Style>

    <Style TargetType="Control">
        <Setter Property="FontFamily" Value="{StaticResource CodeFont}"/>
        <Setter Property="FontWeight" Value="Medium"/>
        <Setter Property="FontSize" Value="14"/>
    </Style>

    <Style TargetType="GroupBox">
        <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="FontWeight" Value="Medium"/>
    </Style>

    <Style TargetType="CheckBox">
        <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="FontWeight" Value="Medium"/>
    </Style>

    <!-- 🧭 Кнопка-иконка (используется в тулбаре/меню) -->
    <Style x:Key="IconButton" TargetType="Button">
        <Setter Property="FontSize" Value="15"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <Setter Property="Background" Value="{DynamicResource PanelBackground}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrushLight}"/>
        <Setter Property="Padding" Value="8,4"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{DynamicResource BorderBrushLight}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="border" Property="Opacity" Value="0.8"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="border" Property="Opacity" Value="0.6"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 📁 Элементы категорий (ListBoxItem) -->
    <Style x:Key="CategoryListBoxItem" TargetType="ListBoxItem">
        <Setter Property="Margin" Value="2"/>
        <Setter Property="Padding" Value="8,6"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ListBoxItem">
                    <Border Background="{TemplateBinding Background}"
                        CornerRadius="4"
                        Padding="{TemplateBinding Padding}">
                        <ContentPresenter/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="IsSelected" Value="True">
                <Setter Property="Background" Value="{DynamicResource PrimaryColor}"/>
                <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            </Trigger>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{DynamicResource BorderBrushLight}"/>
            </Trigger>
            <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Opacity" Value="0.6"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- 🪶 Единый стиль карточек -->
    <Style x:Key="RoundedCardStyle" TargetType="ListBoxItem">
        <Setter Property="Margin" Value="6"/>
        <Setter Property="Padding" Value="0"/>
        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        <Setter Property="VerticalContentAlignment" Value="Stretch"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Background" Value="{DynamicResource PanelBackground}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrushLight}"/>
        <Setter Property="BorderThickness" Value="2"/>

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ListBoxItem">
                    <Border x:Name="border"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="8"
                        SnapsToDevicePixels="True"
                        Padding="4">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <ControlTemplate.Triggers>
                        <!-- 🖱 Наведение -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{DynamicResource PanelBackground}"/>
                            <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource PrimaryColor}"/>
                        </Trigger>

                        <!-- ✅ Выделение -->
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource SuccessColor}"/>
                            <Setter TargetName="border" Property="Background" Value="{DynamicResource PanelBackground}"/>
                            <Setter TargetName="border" Property="BorderThickness" Value="3"/>
                            <Setter TargetName="border" Property="Effect">
                                <Setter.Value>
                                    <DropShadowEffect BlurRadius="8" ShadowDepth="2" Opacity="0.25"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>

                        <!-- 🚫 Отключенные -->
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="border" Property="Opacity" Value="0.6"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 🐟 Карточка рыбы (для ListBoxItem) -->
    <Style x:Key="FishCardStyle" TargetType="ListBoxItem">
        <Setter Property="Margin" Value="6"/>
        <Setter Property="Padding" Value="0"/>
        <Setter Property="Background" Value="{DynamicResource PanelBackground}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ListBoxItem">
                    <Border x:Name="border"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{DynamicResource BorderBrushLight}"
                        BorderThickness="1"
                        CornerRadius="6"
                        Padding="8">
                        <ContentPresenter/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource PrimaryColor}"/>
                            <Setter TargetName="border" Property="BorderThickness" Value="2"/>
                            <Setter TargetName="border" Property="Background" Value="{DynamicResource PanelBackground}"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource PrimaryColor}"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="border" Property="Opacity" Value="0.6"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 🎯 Карточка точки лова -->
    <Style x:Key="CatchPointCardStyle" TargetType="Border">
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="CornerRadius" Value="6"/>
        <Setter Property="Padding" Value="8"/>
        <Setter Property="Background" Value="{DynamicResource PanelBackground}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrushLight}"/>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="BorderBrush" Value="{DynamicResource SuccessColor}"/>
                <Setter Property="Background" Value="{DynamicResource PanelBackground}"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- 📜 Современные вертикальные скроллбары (Material Design стиль) -->
    <Style TargetType="ScrollBar">
        <Setter Property="Stylus.IsPressAndHoldEnabled" Value="False"/>
        <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Width" Value="10"/>
        <Setter Property="MinWidth" Value="10"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ScrollBar">
                    <Grid x:Name="Bg" SnapsToDevicePixels="True">
                        <Border x:Name="TrackBorder" 
                                Background="Transparent" 
                                CornerRadius="5"/>
                        <Track x:Name="PART_Track" 
                               IsDirectionReversed="True" 
                               IsEnabled="{TemplateBinding IsMouseOver}">
                            <Track.DecreaseRepeatButton>
                                <RepeatButton Command="{x:Static ScrollBar.PageUpCommand}" 
                                              Opacity="0"/>
                            </Track.DecreaseRepeatButton>
                            <Track.IncreaseRepeatButton>
                                <RepeatButton Command="{x:Static ScrollBar.PageDownCommand}" 
                                              Opacity="0"/>
                            </Track.IncreaseRepeatButton>
                            <Track.Thumb>
                                <Thumb x:Name="Thumb">
                                    <Thumb.Template>
                                        <ControlTemplate TargetType="Thumb">
                                            <Border x:Name="thumbRect"
                                                    Background="{DynamicResource PrimaryColor}"
                                                    CornerRadius="5"
                                                    Opacity="0.5">
                                                <Border.Effect>
                                                    <DropShadowEffect BlurRadius="4" 
                                                                      ShadowDepth="0" 
                                                                      Opacity="0.3"/>
                                                </Border.Effect>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="thumbRect" Property="Opacity" Value="0.8"/>
                                                    <Setter TargetName="thumbRect" Property="Effect">
                                                        <Setter.Value>
                                                            <DropShadowEffect BlurRadius="6" 
                                                                              ShadowDepth="0" 
                                                                              Opacity="0.5"/>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Trigger>
                                                <Trigger Property="IsDragging" Value="True">
                                                    <Setter TargetName="thumbRect" Property="Opacity" Value="1"/>
                                                    <Setter TargetName="thumbRect" Property="Effect">
                                                        <Setter.Value>
                                                            <DropShadowEffect BlurRadius="8" 
                                                                              ShadowDepth="0" 
                                                                              Opacity="0.6"/>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Thumb.Template>
                                </Thumb>
                            </Track.Thumb>
                        </Track>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="TrackBorder" Property="Background" Value="{DynamicResource BorderBrushLight}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <!-- Анимация появления при наведении -->
            <Trigger Property="IsMouseOver" Value="True">
                <Trigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetProperty="Opacity" 
                                             To="1" 
                                             Duration="0:0:0.15"/>
                        </Storyboard>
                    </BeginStoryboard>
                </Trigger.EnterActions>
                <Trigger.ExitActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetProperty="Opacity" 
                                             To="0.6" 
                                             Duration="0:0:0.15"/>
                        </Storyboard>
                    </BeginStoryboard>
                </Trigger.ExitActions>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- 📜 Стиль для ScrollViewer с кастомным скроллбаром -->
    <Style TargetType="ScrollViewer">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ScrollViewer">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <ScrollContentPresenter Grid.Column="0" 
                                                Grid.Row="0"
                                                CanContentScroll="{TemplateBinding CanContentScroll}"/>
                        <ScrollBar x:Name="PART_VerticalScrollBar"
                                   Grid.Column="1"
                                   Grid.Row="0"
                                   Value="{TemplateBinding VerticalOffset}"
                                   Maximum="{TemplateBinding ScrollableHeight}"
                                   ViewportSize="{TemplateBinding ViewportHeight}"
                                   Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 💬 ToolTip с поддержкой тем -->
    <SolidColorBrush x:Key="ToolTipBackgroundBrush" Color="{DynamicResource ToolTipBackgroundColor}"/>
    <SolidColorBrush x:Key="ToolTipForegroundBrush" Color="{DynamicResource ToolTipTextColor}"/>
    <SolidColorBrush x:Key="ToolTipBorderBrush" Color="{DynamicResource ToolTipBorderColor}"/>

    <Style TargetType="ToolTip">
        <Setter Property="Background" Value="{DynamicResource ToolTipBackgroundBrush}"/>
        <Setter Property="Foreground" Value="{DynamicResource ToolTipForegroundBrush}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource ToolTipBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="8,6"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToolTip">
                    <Border x:Name="Border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 🔘 СОВРЕМЕННЫЕ КНОПКИ С ИКОНКАМИ -->
    
    <!-- Базовый стиль кнопки с иконкой -->
    <Style x:Key="ModernIconButton" TargetType="Button">
        <Setter Property="Background" Value="{DynamicResource PrimaryColor}"/>
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="16,10"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            CornerRadius="8"
                            Padding="{TemplateBinding Padding}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="8" ShadowDepth="2" Opacity="0.3" Direction="270"/>
                        </Border.Effect>
                        <StackPanel Orientation="Horizontal" 
                                    HorizontalAlignment="Center" 
                                    VerticalAlignment="Center">
                            <Path x:Name="icon"
                                  Data="{TemplateBinding Tag}"
                                  Fill="{TemplateBinding Foreground}"
                                  Width="18" Height="18"
                                  Margin="0,0,8,0"
                                  Stretch="Uniform"
                                  VerticalAlignment="Center"/>
                            <ContentPresenter x:Name="content"
                                              VerticalAlignment="Center"
                                              HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Effect">
                                <Setter.Value>
                                    <DropShadowEffect BlurRadius="12" ShadowDepth="3" Opacity="0.5" Direction="270"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="border" Property="RenderTransform">
                                <Setter.Value>
                                    <ScaleTransform ScaleX="0.97" ScaleY="0.97"/>
                                </Setter.Value>
                            </Setter>
                            <Setter TargetName="border" Property="RenderTransformOrigin" Value="0.5,0.5"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Кнопка только с иконкой (квадратная) -->
    <Style x:Key="IconOnlyButton" TargetType="Button">
        <Setter Property="Background" Value="{DynamicResource PrimaryColor}"/>
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Width" Value="44"/>
        <Setter Property="Height" Value="44"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            CornerRadius="10"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="6" ShadowDepth="1" Opacity="0.25" Direction="270"/>
                        </Border.Effect>
                        <Path x:Name="icon"
                              Data="{TemplateBinding Tag}"
                              Fill="{TemplateBinding Foreground}"
                              Width="20" Height="20"
                              Stretch="Uniform"
                              VerticalAlignment="Center"
                              HorizontalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Effect">
                                <Setter.Value>
                                    <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.4" Direction="270"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="border" Property="RenderTransform">
                                <Setter.Value>
                                    <ScaleTransform ScaleX="0.92" ScaleY="0.92"/>
                                </Setter.Value>
                            </Setter>
                            <Setter TargetName="border" Property="RenderTransformOrigin" Value="0.5,0.5"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Кнопка "Добавить" (зелёная) -->
    <Style x:Key="AddButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconAdd}"/>
        <Setter Property="Background" Value="{DynamicResource SuccessColor}"/>
    </Style>

    <!-- Кнопка "Удалить" (красная) -->
    <Style x:Key="DeleteButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconDelete}"/>
        <Setter Property="Background" Value="{DynamicResource DangerColor}"/>
    </Style>

    <!-- Кнопка "Редактировать" (оранжевая) -->
    <Style x:Key="EditButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconEdit}"/>
        <Setter Property="Background" Value="#FF9800"/>
    </Style>

    <!-- Кнопка "Сохранить" (синяя) -->
    <Style x:Key="SaveButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconSave}"/>
        <Setter Property="Background" Value="{DynamicResource ButtonPrimaryBrush}"/>
    </Style>

    <!-- Кнопка "Экспорт" (голубая) -->
    <Style x:Key="ExportButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconExport}"/>
        <Setter Property="Background" Value="#03A9F4"/>
    </Style>

    <!-- Кнопка "Импорт" (фиолетовая) -->
    <Style x:Key="ImportButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconImport}"/>
        <Setter Property="Background" Value="#9C27B0"/>
    </Style>

    <!-- Кнопка "Поиск" (серая) -->
    <Style x:Key="SearchButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconSearch}"/>
        <Setter Property="Background" Value="#607D8B"/>
    </Style>

    <!-- Кнопка "Настройки" (тёмно-синяя) -->
    <Style x:Key="SettingsButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconSettings}"/>
        <Setter Property="Background" Value="#3F51B5"/>
    </Style>

    <!-- Кнопка "Инфо" (бирюзовая) -->
    <Style x:Key="InfoButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconInfo}"/>
        <Setter Property="Background" Value="#00BCD4"/>
    </Style>

    <!-- Кнопка "О программе" (фиолетовая) -->
    <Style x:Key="AboutButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconInfo}"/>
        <Setter Property="Background" Value="#9C27B0"/>
        <Setter Property="Width" Value="48"/>
        <Setter Property="Height" Value="48"/>
    </Style>

    <!-- Кнопка "Рыбы" (акцентная) -->
    <Style x:Key="FishButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconFish}"/>
        <Setter Property="Background" Value="{DynamicResource AccentFeed}"/>
    </Style>

    <!-- Кнопка "Карты" (акцентная) -->
    <Style x:Key="MapButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconMap}"/>
        <Setter Property="Background" Value="{DynamicResource AccentLocation}"/>
    </Style>

    <!-- Кнопка "Обновить" (зелёная) -->
    <Style x:Key="RefreshButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconRefresh}"/>
        <Setter Property="Background" Value="#4CAF50"/>
    </Style>

    <!-- Кнопка "Закрыть" (серая) -->
    <Style x:Key="CloseButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconClose}"/>
        <Setter Property="Background" Value="#78909C"/>
    </Style>

    <!-- Кнопка "OK" (зелёная) -->
    <Style x:Key="OkButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconCheck}"/>
        <Setter Property="Background" Value="#4CAF50"/>
    </Style>

    <!-- Кнопка "Отмена" (серая) -->
    <Style x:Key="CancelButton" TargetType="Button" BasedOn="{StaticResource ModernIconButton}">
        <Setter Property="Tag" Value="{StaticResource IconClose}"/>
        <Setter Property="Background" Value="#9E9E9E"/>
    </Style>

    <!-- Маленькая кнопка с иконкой (для тулбаров) -->
    <Style x:Key="SmallIconButton" TargetType="Button" BasedOn="{StaticResource IconOnlyButton}">
        <Setter Property="Width" Value="36"/>
        <Setter Property="Height" Value="36"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            CornerRadius="8"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Path x:Name="icon"
                              Data="{TemplateBinding Tag}"
                              Fill="{TemplateBinding Foreground}"
                              Width="16" Height="16"
                              Stretch="Uniform"
                              VerticalAlignment="Center"
                              HorizontalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="#40FFFFFF"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="border" Property="RenderTransform">
                                <Setter.Value>
                                    <ScaleTransform ScaleX="0.9" ScaleY="0.9"/>
                                </Setter.Value>
                            </Setter>
                            <Setter TargetName="border" Property="RenderTransformOrigin" Value="0.5,0.5"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Кнопка переключения темы -->
    <Style x:Key="ThemeToggleButton" TargetType="ToggleButton">
        <Setter Property="Width" Value="48"/>
        <Setter Property="Height" Value="48"/>
        <Setter Property="Background" Value="{DynamicResource PrimaryColor}"/>
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToggleButton">
                    <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            CornerRadius="12"
                            BorderThickness="0">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="8" ShadowDepth="2" Opacity="0.3" Direction="270"/>
                        </Border.Effect>
                        <Grid>
                            <!-- Иконка светлой темы -->
                            <Path x:Name="lightIcon"
                                  Data="{StaticResource IconLightTheme}"
                                  Fill="{TemplateBinding Foreground}"
                                  Width="24" Height="24"
                                  Stretch="Uniform"
                                  VerticalAlignment="Center"
                                  HorizontalAlignment="Center"
                                  Opacity="1"/>
                            <!-- Иконка тёмной темы -->
                            <Path x:Name="darkIcon"
                                  Data="{StaticResource IconDarkTheme}"
                                  Fill="{TemplateBinding Foreground}"
                                  Width="24" Height="24"
                                  Stretch="Uniform"
                                  VerticalAlignment="Center"
                                  HorizontalAlignment="Center"
                                  Opacity="0"/>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="lightIcon" Property="Opacity" Value="0"/>
                            <Setter TargetName="darkIcon" Property="Opacity" Value="1"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Effect">
                                <Setter.Value>
                                    <DropShadowEffect BlurRadius="12" ShadowDepth="3" Opacity="0.5" Direction="270"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="border" Property="RenderTransform">
                                <Setter.Value>
                                    <ScaleTransform ScaleX="0.95" ScaleY="0.95"/>
                                </Setter.Value>
                            </Setter>
                            <Setter TargetName="border" Property="RenderTransformOrigin" Value="0.5,0.5"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
